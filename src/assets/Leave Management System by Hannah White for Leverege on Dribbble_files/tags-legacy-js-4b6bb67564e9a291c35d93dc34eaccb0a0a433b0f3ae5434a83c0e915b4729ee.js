function memberContainer(t){var e=$(t).closest("li.player, .floating-sidebar-container, .shot-byline .attribution, .js-hover-card .js-hover-card-follow, .hover-card .profile-head, .screenshot-meta, .overlay, .user-card .profile-head, .user-card-container .buttons-container, .profile-masthead, js-resume-card, .js-designer-card, .js-shot-header-action-links, .js-follow-prompt-container, [data-collaborators-dropdown-item]"),i=$("."+e.attr("class").match(/user-row-\d+/));return i.length?i:e}function numberWithDelimiter(t){return t.toString().replace(/(\d)(?=(\d\d\d)+(?!\d))/g,"$1,")}$D={addClass:function(t,e){"function"==typeof t.addClass?t.addClass(e):t.classList.add(e)},removeClass:function(t,e){"function"==typeof t.removeClass?t.removeClass(e):t.classList.remove(e)},hide:function(t){$D.addClass(t,"d-none")},show:function(t){$D.removeClass(t,"d-none")},hasClass:function(t,e){t.classList.contains(e)},toggleClass:function(t,e){t.classList.toggle(e)},setValue:function(t,e){"string"==typeof t?els=Array.prototype.slice.call(document.querySelectorAll(t)):Array.isArray(t)?els=t:els=Array.of(t),els.forEach(function(t){t.value=e})},createElement:function(t,e){e=e||{};var i=document.createElement(t);return e.text&&(i.textContent=e.text,delete e.text),e["class"]&&(e["class"].split(" ").forEach(function(t){i.classList.add(t)}),delete e["class"]),Object.keys(e).forEach(function(t){i.setAttribute(t,e[t])}),i}},function(){"use strict";var t=function(d,l){var c;d.rails!==l&&d.error("jquery-ujs has already been loaded!");var t=d(document);d.rails=c={linkClickSelector:"a[data-confirm], a[data-method], a[data-remote]:not([disabled]), a[data-disable-with], a[data-disable]",buttonClickSelector:"button[data-remote]:not([form]):not(form button), button[data-confirm]:not([form]):not(form button)",inputChangeSelector:"select[data-remote], input[data-remote], textarea[data-remote]",formSubmitSelector:"form",formInputClickSelector:"form input[type=submit], form input[type=image], form button[type=submit], form button:not([type]), input[type=submit][form], input[type=image][form], button[type=submit][form], button[form]:not([type])",disableSelector:"input[data-disable-with]:enabled, button[data-disable-with]:enabled, textarea[data-disable-with]:enabled, input[data-disable]:enabled, button[data-disable]:enabled, textarea[data-disable]:enabled",enableSelector:"input[data-disable-with]:disabled, button[data-disable-with]:disabled, textarea[data-disable-with]:disabled, input[data-disable]:disabled, button[data-disable]:disabled, textarea[data-disable]:disabled",requiredInputSelector:"input[name][required]:not([disabled]), textarea[name][required]:not([disabled])",fileInputSelector:"input[name][type=file]:not([disabled])",linkDisableSelector:"a[data-disable-with], a[data-disable]",buttonDisableSelector:"button[data-remote][data-disable-with], button[data-remote][data-disable]",csrfToken:function(){return d("meta[name=csrf-token]").attr("content")},csrfParam:function(){return d("meta[name=csrf-param]").attr("content")},CSRFProtection:function(t){var e=c.csrfToken();e&&t.setRequestHeader("X-CSRF-Token",e)},refreshCSRFTokens:function(){d('form input[name="'+c.csrfParam()+'"]').val(c.csrfToken())},fire:function(t,e,i){var n=d.Event(e);return t.trigger(n,i),!1!==n.result},confirm:function(t){return confirm(t)},ajax:function(t){return d.ajax(t)},href:function(t){return t[0].href},isRemote:function(t){return t.data("remote")!==l&&!1!==t.data("remote")},handleRemote:function(n){var t,e,i,o,a,r;if(c.fire(n,"ajax:before")){if(o=n.data("with-credentials")||null,a=n.data("type")||d.ajaxSettings&&d.ajaxSettings.dataType,n.is("form")){t=n.data("ujs:submit-button-formmethod")||n.attr("method"),e=n.data("ujs:submit-button-formaction")||n.attr("action"),i=d(n[0]).serializeArray();var s=n.data("ujs:submit-button");s&&(i.push(s),n.data("ujs:submit-button",null)),n.data("ujs:submit-button-formmethod",null),n.data("ujs:submit-button-formaction",null)}else n.is(c.inputChangeSelector)?(t=n.data("method"),e=n.data("url"),i=n.serialize(),n.data("params")&&(i=i+"&"+n.data("params"))):n.is(c.buttonClickSelector)?(t=n.data("method")||"get",e=n.data("url"),i=n.serialize(),n.data("params")&&(i=i+"&"+n.data("params"))):(t=n.data("method"),e=c.href(n),i=n.data("params")||null);return r={type:t||"GET",data:i,dataType:a,beforeSend:function(t,e){if(e.dataType===l&&t.setRequestHeader("accept","*/*;q=0.5, "+e.accepts.script),!c.fire(n,"ajax:beforeSend",[t,e]))return!1;n.trigger("ajax:send",t)},success:function(t,e,i){n.trigger("ajax:success",[t,e,i])},complete:function(t,e){n.trigger("ajax:complete",[t,e])},error:function(t,e,i){n.trigger("ajax:error",[t,e,i])},crossDomain:c.isCrossDomain(e)},o&&(r.xhrFields={withCredentials:o}),e&&(r.url=e),c.ajax(r)}return!1},isCrossDomain:function(t){var e=document.createElement("a");e.href=location.href;var i=document.createElement("a");try{return i.href=t,i.href=i.href,!((!i.protocol||":"===i.protocol)&&!i.host||e.protocol+"//"+e.host==i.protocol+"//"+i.host)}catch(n){return!0}},handleMethod:function(t){var e=c.href(t),i=t.data("method"),n=t.attr("target"),o=c.csrfToken(),a=c.csrfParam(),r=d('<form method="post" action="'+e+'"></form>'),s='<input name="_method" value="'+i+'" type="hidden" />';a===l||o===l||c.isCrossDomain(e)||(s+='<input name="'+a+'" value="'+o+'" type="hidden" />'),n&&r.attr("target",n),r.hide().append(s).appendTo("body"),r.trigger("submit")},formElements:function(t,e){return t.is("form")?d(t[0].elements).filter(e):t.find(e)},disableFormElements:function(t){c.formElements(t,c.disableSelector).each(function(){c.disableFormElement(d(this))})},disableFormElement:function(t){var e,i;e=t.is("button")?"html":"val",(i=t.data("disable-with"))!==l&&(t.data("ujs:enable-with",t[e]()),t[e](i)),t.prop("disabled",!0),t.data("ujs:disabled",!0)},enableFormElements:function(t){c.formElements(t,c.enableSelector).each(function(){c.enableFormElement(d(this))})},enableFormElement:function(t){var e=t.is("button")?"html":"val";t.data("ujs:enable-with")!==l&&(t[e](t.data("ujs:enable-with")),t.removeData("ujs:enable-with")),t.prop("disabled",!1),t.removeData("ujs:disabled")},allowAction:function(t){var e,i=t.data("confirm"),n=!1;if(!i)return!0;if(c.fire(t,"confirm")){try{n=c.confirm(i)}catch(o){(console.error||console.log).call(console,o.stack||o)}e=c.fire(t,"confirm:complete",[n])}return n&&e},blankInputs:function(t,e,i){var n,o,a,r=d(),s=e||"input,textarea",l=t.find(s),c={};return l.each(function(){(n=d(this)).is("input[type=radio]")?(a=n.attr("name"),c[a]||(0===t.find('input[type=radio]:checked[name="'+a+'"]').length&&(o=t.find('input[type=radio][name="'+a+'"]'),r=r.add(o)),c[a]=a)):(n.is("input[type=checkbox],input[type=radio]")?n.is(":checked"):!!n.val())===i&&(r=r.add(n))}),!!r.length&&r},nonBlankInputs:function(t,e){return c.blankInputs(t,e,!0)},stopEverything:function(t){return d(t.target).trigger("ujs:everythingStopped"),t.stopImmediatePropagation(),!1},disableElement:function(t){var e=t.data("disable-with");e!==l&&(t.data("ujs:enable-with",t.html()),t.html(e)),t.bind("click.railsDisable",function(t){return c.stopEverything(t)}),t.data("ujs:disabled",!0)},enableElement:function(t){t.data("ujs:enable-with")!==l&&(t.html(t.data("ujs:enable-with")),t.removeData("ujs:enable-with")),t.unbind("click.railsDisable"),t.removeData("ujs:disabled")}},c.fire(t,"rails:attachBindings")&&(d.ajaxPrefilter(function(t,e,i){t.crossDomain||c.CSRFProtection(i)}),d(window).on("pageshow.rails",function(){d(d.rails.enableSelector).each(function(){var t=d(this);t.data("ujs:disabled")&&d.rails.enableFormElement(t)}),d(d.rails.linkDisableSelector).each(function(){var t=d(this);t.data("ujs:disabled")&&d.rails.enableElement(t)})}),t.on("ajax:complete",c.linkDisableSelector,function(){c.enableElement(d(this))}),t.on("ajax:complete",c.buttonDisableSelector,function(){c.enableFormElement(d(this))}),t.on("click.rails",c.linkClickSelector,function(t){var e=d(this),i=e.data("method"),n=e.data("params"),o=t.metaKey||t.ctrlKey;if(!c.allowAction(e))return c.stopEverything(t);if(!o&&e.is(c.linkDisableSelector)&&c.disableElement(e),c.isRemote(e)){if(o&&(!i||"GET"===i)&&!n)return!0;var a=c.handleRemote(e);return!1===a?c.enableElement(e):a.fail(function(){c.enableElement(e)}),!1}return i?(c.handleMethod(e),!1):void 0}),t.on("click.rails",c.buttonClickSelector,function(t){var e=d(this);if(!c.allowAction(e)||!c.isRemote(e))return c.stopEverything(t);e.is(c.buttonDisableSelector)&&c.disableFormElement(e);var i=c.handleRemote(e);return!1===i?c.enableFormElement(e):i.fail(function(){c.enableFormElement(e)}),!1}),t.on("change.rails",c.inputChangeSelector,function(t){var e=d(this);return c.allowAction(e)&&c.isRemote(e)?(c.handleRemote(e),!1):c.stopEverything(t)}),t.on("submit.rails",c.formSubmitSelector,function(t){var e,i,n=d(this),o=c.isRemote(n);if(!c.allowAction(n))return c.stopEverything(t);if(n.attr("novalidate")===l)if(n.data("ujs:formnovalidate-button")===l){if((e=c.blankInputs(n,c.requiredInputSelector,!1))&&c.fire(n,"ajax:aborted:required",[e]))return c.stopEverything(t)}else n.data("ujs:formnovalidate-button",l);if(o){if(i=c.nonBlankInputs(n,c.fileInputSelector)){setTimeout(function(){c.disableFormElements(n)},13);var a=c.fire(n,"ajax:aborted:file",[i]);return a||setTimeout(function(){c.enableFormElements(n)},13),a}return c.handleRemote(n),!1}setTimeout(function(){c.disableFormElements(n)},13)}),t.on("click.rails",c.formInputClickSelector,function(t){var e=d(this);if(!c.allowAction(e))return c.stopEverything(t);var i=e.attr("name"),n=i?{name:i,value:e.val()}:null,o=e.closest("form");0===o.length&&(o=d("#"+e.attr("form"))),o.data("ujs:submit-button",n),o.data("ujs:formnovalidate-button",e.attr("formnovalidate")),o.data("ujs:submit-button-formaction",e.attr("formaction")),o.data("ujs:submit-button-formmethod",e.attr("formmethod"))}),t.on("ajax:send.rails",c.formSubmitSelector,function(t){this===t.target&&c.disableFormElements(d(this))}),t.on("ajax:complete.rails",c.formSubmitSelector,function(t){this===t.target&&c.enableFormElements(d(this))}),d(function(){c.refreshCSRFTokens()}))};window.jQuery?t(jQuery):"object"==typeof exports&&"object"==typeof module&&(module.exports=t)}(),function(s){function l(t,e){return"function"==typeof t?t.call(e):t}function e(t){for(;t=t.parentNode;)if(t==document)return!0;return!1}function c(t,e){this.$element=s(t),this.options=e,this.enabled=!0,this.fixTitle()}c.prototype={show:function(){var t=this.getTitle();if(t&&this.enabled){var e=this.tip();e.find(".tipsy-inner")[this.options.html?"html":"text"](t),e[0].className="tipsy",e.remove().css({top:0,left:0,visibility:"hidden",display:"block"}).prependTo(document.body);var i,n=s.extend({},this.$element.offset(),{width:this.$element[0].offsetWidth,height:this.$element[0].offsetHeight}),o=e[0].offsetWidth,a=e[0].offsetHeight,r=l(this.options.gravity,this.$element[0]);switch(r.charAt(0)){case"n":i={top:n.top+n.height+this.options.offset,left:n.left+n.width/2-o/2};break;case"s":i={top:n.top-a-this.options.offset,left:n.left+n.width/2-o/2};break;case"e":i={top:n.top+n.height/2-a/2,left:n.left-o-this.options.offset};break;case"w":i={top:n.top+n.height/2-a/2,left:n.left+n.width+this.options.offset}}2==r.length&&("w"==r.charAt(1)?i.left=n.left+n.width/2-15:i.left=n.left+n.width/2-o+15),e.css(i).addClass("tipsy-"+r),e.find(".tipsy-arrow")[0].className="tipsy-arrow tipsy-arrow-"+r.charAt(0),this.options.className&&e.addClass(l(this.options.className,this.$element[0])),this.options.fade?e.stop().css({opacity:0,display:"block",visibility:"visible"}).animate({opacity:this.options.opacity}):e.css({visibility:"visible",opacity:this.options.opacity})}},hide:function(){this.options.fade?this.tip().stop().fadeOut(function(){s(this).remove()}):this.tip().remove()},fixTitle:function(){var t=this.$element;(t.attr("title")||"string"!=typeof t.attr("original-title"))&&t.attr("original-title",t.attr("title")||"").removeAttr("title")},getTitle:function(){if(this.enabled){var t,e=this.$element,i=this.options;return this.fixTitle(),"string"==typeof(i=this.options).title?t=e.attr("title"==i.title?"original-title":i.title):"function"==typeof i.title&&(t=i.title.call(e[0])),(t=(""+t).replace(/(^\s*|\s*$)/,""))||i.fallback}},tip:function(){return this.$tip||(this.$tip=s('<div class="tipsy"></div>').html('<div class="tipsy-arrow"></div><div class="tipsy-inner"></div>'),this.$tip.data("tipsy-pointee",this.$element[0])),this.$tip},validate:function(){this.$element[0].parentNode||(this.hide(),this.$element=null,this.options=null)},enable:function(){this.enabled=!0},disable:function(){this.enabled=!1},toggleEnabled:function(){this.enabled=!this.enabled}},s.fn.tipsy=function(i){function e(t){var e=s.data(t,"tipsy");return e||(e=new c(t,s.fn.tipsy.elementOptions(t,i)),s.data(t,"tipsy",e)),e}function t(){var t=e(this);t.hoverState="in",0==i.delayIn?t.show():(t.fixTitle(),setTimeout(function(){"in"==t.hoverState&&t.show()},i.delayIn))}function n(){var t=e(this);t.hoverState="out",0==i.delayOut?t.hide():setTimeout(function(){"out"==t.hoverState&&t.hide()},i.delayOut)}if(!0===i)return this.data("tipsy");if("string"==typeof i){var o=this.data("tipsy");return o&&o[i](),this}if((i=s.extend({},s.fn.tipsy.defaults,i)).live||this.each(function(){e(this)}),"manual"!=i.trigger){var a="hover"==i.trigger?"mouseenter":"focus",r="hover"==i.trigger?"mouseleave":"blur";this.on(a,t).on(r,n)}return this},s.fn.tipsy.defaults={className:null,delayIn:0,delayOut:0,fade:!1,fallback:"",gravity:"n",html:!1,live:!1,offset:0,opacity:.8,title:"title",trigger:"hover"},s.fn.tipsy.revalidate=function(){s(".tipsy").each(function(){var t=s.data(this,"tipsy-pointee");t&&e(t)||s(this).remove()})},s.fn.tipsy.elementOptions=function(t,e){return s.metadata?s.extend({},e,s(t).metadata()):e},s.fn.tipsy.autoNS=function(){return s(this).offset().top>s(document).scrollTop()+s(window).height()/2?"s":"n"},s.fn.tipsy.autoWE=function(){return s(this).offset().left>s(document).scrollLeft()+s(window).width()/2?"e":"w"},s.fn.tipsy.autoBounds=function(o,a){return function(){var t={ns:a[0],ew:1<a.length&&a[1]},e=s(document).scrollTop()+o,i=s(document).scrollLeft()+o,n=s(this);return n.offset().top<e&&(t.ns="n"),n.offset().left<i&&(t.ew="w"),s(window).width()+s(document).scrollLeft()-n.offset().left<o&&(t.ew="e"),s(window).height()+s(document).scrollTop()-n.offset().top<o&&(t.ns="s"),t.ns+(t.ew?t.ew:"")}}}(jQuery),function(t,n){"use strict";var e=t.History=t.History||{},o=t.jQuery;if("undefined"!=typeof e.Adapter)throw new Error("History.js Adapter has already been loaded...");e.Adapter={bind:function(t,e,i){o(t).on(e,i)},trigger:function(t,e,i){o(t).trigger(e,i)},extractEventData:function(t,e,i){return e&&e.originalEvent&&e.originalEvent[t]||i&&i[t]||n},onDomLoad:function(t){o(t)}},"undefined"!=typeof e.init&&e.init()}(window),function(r,i){"use strict";var l=r.console||i,c=r.document,n=r.navigator,o=!1,a=r.setTimeout,s=r.clearTimeout,d=r.setInterval,u=r.clearInterval,h=r.JSON,f=r.alert,b=r.History=r.History||{},p=r.history;try{(o=r.sessionStorage).setItem("TEST","1"),o.removeItem("TEST")}catch(t){o=!1}if(h.stringify=h.stringify||h.encode,h.parse=h.parse||h.decode,"undefined"!=typeof b.init)throw new Error("History.js Core has already been loaded...");b.init=function(){return"undefined"!=typeof b.Adapter&&("undefined"!=typeof b.initCore&&b.initCore(),"undefined"!=typeof b.initHtml4&&b.initHtml4(),!0)},b.initCore=function(){if("undefined"!=typeof b.initCore.initialized)return!1;if(b.initCore.initialized=!0,b.options=b.options||{},b.options.hashChangeInterval=b.options.hashChangeInterval||100,b.options.safariPollInterval=b.options.safariPollInterval||500,b.options.doubleCheckInterval=b.options.doubleCheckInterval||500,b.options.disableSuid=b.options.disableSuid||!1,b.options.storeInterval=b.options.storeInterval||1e3,b.options.busyDelay=b.options.busyDelay||250,b.options.debug=b.options.debug||!1,b.options.initialTitle=b.options.initialTitle||c.title,b.options.html4Mode=b.options.html4Mode||!1,b.options.delayInit=b.options.delayInit||!1,b.intervalList=[],b.clearAllIntervals=function(){var t,e=b.intervalList;if(null!=e){for(t=0;t<e.length;t++)u(e[t]);b.intervalList=null}},b.debug=function(){b.options.debug&&b.log.apply(b,arguments)},b.log=function(t){var e,i,n,o,a,r=void 0!==l&&"undefined"!=typeof l.log&&"undefined"!=typeof l.log.apply,s=c.getElementById("log");for(r?(e=(o=Array.prototype.slice.call(arguments)).shift(),"undefined"!=typeof l.debug?l.debug.apply(l,[e,o]):l.log.apply(l,[e,o])):e="\n"+t+"\n",i=1,n=arguments.length;i<n;++i){if("object"==typeof(a=arguments[i])&&void 0!==h)try{a=h.stringify(a)}catch(u){}e+="\n"+a+"\n"}return s?(s.value+=e+"\n-----\n",s.scrollTop=s.scrollHeight-s.clientHeight):r||f(e),!0},b.getInternetExplorerMajorVersion=function(){return b.getInternetExplorerMajorVersion.cached="undefined"!=typeof b.getInternetExplorerMajorVersion.cached?b.getInternetExplorerMajorVersion.cached:function(){for(var t=3,e=c.createElement("div"),i=e.getElementsByTagName("i");(e.innerHTML="<!--[if gt IE "+ ++t+"]><i></i><![endif]-->")&&i[0];);return 4<t&&t}()},b.isInternetExplorer=function(){return b.isInternetExplorer.cached="undefined"!=typeof b.isInternetExplorer.cached?b.isInternetExplorer.cached:Boolean(b.getInternetExplorerMajorVersion())},b.options.html4Mode?b.emulated={pushState:!0,hashChange:!0}:b.emulated={pushState:!Boolean(r.history&&r.history.pushState&&r.history.replaceState&&!/ Mobile\/([1-7][a-z]|(8([abcde]|f(1[0-8]))))/i.test(n.userAgent)&&!/AppleWebKit\/5([0-2]|3[0-2])/i.test(n.userAgent)),hashChange:Boolean(!("onhashchange"in r||"onhashchange"in c)||b.isInternetExplorer()&&b.getInternetExplorerMajorVersion()<8)},b.enabled=!b.emulated.pushState,b.bugs={setHash:Boolean(!b.emulated.pushState&&"Apple Computer, Inc."===n.vendor&&/AppleWebKit\/5([0-2]|3[0-3])/.test(n.userAgent)),safariPoll:Boolean(!b.emulated.pushState&&"Apple Computer, Inc."===n.vendor&&/AppleWebKit\/5([0-2]|3[0-3])/.test(n.userAgent)),ieDoubleCheck:Boolean(b.isInternetExplorer()&&b.getInternetExplorerMajorVersion()<8),hashEscape:Boolean(b.isInternetExplorer()&&b.getInternetExplorerMajorVersion()<7)},b.isEmptyObject=function(t){for(var e in t)if(t.hasOwnProperty(e))return!1;return!0},b.cloneObject=function(t){var e,i;return t?(e=h.stringify(t),i=h.parse(e)):i={},i},b.getRootUrl=function(){var t=c.location.protocol+"//"+(c.location.hostname||c.location.host);return c.location.port&&(t+=":"+c.location.port),t+="/"},b.getBaseHref=function(){var t=c.getElementsByTagName("base"),e="";return 1===t.length&&(e=t[0].href.replace(/[^\/]+$/,"")),(e=e.replace(/\/+$/,""))&&(e+="/"),e},b.getBaseUrl=function(){return b.getBaseHref()||b.getBasePageUrl()||b.getRootUrl()},b.getPageUrl=function(){return((b.getState(!1,!1)||{}).url||b.getLocationHref()).replace(/\/+$/,"").replace(/[^\/]+$/,function(t){return/\./.test(t)?t:t+"/"})},b.getBasePageUrl=function(){return b.getLocationHref().replace(/[#\?].*/,"").replace(/[^\/]+$/,function(t){return/[^\/]$/.test(t)?"":t}).replace(/\/+$/,"")+"/"},b.getFullUrl=function(t,e){var i=t,n=t.substring(0,1);return e=void 0===e||e,/[a-z]+\:\/\//.test(t)||(i="/"===n?b.getRootUrl()+t.replace(/^\/+/,""):"#"===n?b.getPageUrl().replace(/#.*/,"")+t:"?"===n?b.getPageUrl().replace(/[\?#].*/,"")+t:e?b.getBaseUrl()+t.replace(/^(\.\/)+/,""):b.getBasePageUrl()+t.replace(/^(\.\/)+/,"")),i.replace(/\#$/,"")},b.getShortUrl=function(t){var e=t,i=b.getBaseUrl(),n=b.getRootUrl();return b.emulated.pushState&&(e=e.replace(i,"")),e=e.replace(n,"/"),b.isTraditionalAnchor(e)&&(e="./"+e),e=e.replace(/^(\.\/)+/g,"./").replace(/\#$/,"")},b.getLocationHref=function(t){return(t=t||c).URL===t.location.href?t.location.href:t.location.href===decodeURIComponent(t.URL)?t.URL:t.location.hash&&decodeURIComponent(t.location.href.replace(/^[^#]+/,""))===t.location.hash?t.location.href:-1==t.URL.indexOf("#")&&-1!=t.location.href.indexOf("#")?t.location.href:t.URL||t.location.href},b.store={},b.idToState=b.idToState||{},b.stateToId=b.stateToId||{},b.urlToId=b.urlToId||{},b.storedStates=b.storedStates||[],b.savedStates=b.savedStates||[],b.normalizeStore=function(){b.store.idToState=b.store.idToState||{},b.store.urlToId=b.store.urlToId||{},b.store.stateToId=b.store.stateToId||{}},b.getState=function(t,e){void 0===t&&(t=!0),void 0===e&&(e=!0);var i=b.getLastSavedState();return!i&&e&&(i=b.createStateObject()),t&&((i=b.cloneObject(i)).url=i.cleanUrl||i.url),i},b.getIdByState=function(t){var e,i=b.extractId(t.url);if(!i)if(e=b.getStateString(t),"undefined"!=typeof b.stateToId[e])i=b.stateToId[e];else if("undefined"!=typeof b.store.stateToId[e])i=b.store.stateToId[e];else{for(;i=(new Date).getTime()+String(Math.random()).replace(/\D/g,""),"undefined"!=typeof b.idToState[i]||"undefined"!=typeof b.store.idToState[i];);b.stateToId[e]=i,b.idToState[i]=t}return i},b.normalizeState=function(t){var e,i;return t&&"object"==typeof t||(t={}),"undefined"!=typeof t.normalized?t:(t.data&&"object"==typeof t.data||(t.data={}),(e={normalized:!0}).title=t.title||"",e.url=b.getFullUrl(t.url?t.url:b.getLocationHref()),e.hash=b.getShortUrl(e.url),e.data=b.cloneObject(t.data),e.id=b.getIdByState(e),e.cleanUrl=e.url.replace(/\??\&_suid.*/,""),e.url=e.cleanUrl,i=!b.isEmptyObject(e.data),(e.title||i)&&!0!==b.options.disableSuid&&(e.hash=b.getShortUrl(e.url).replace(/\??\&_suid.*/,""),/\?/.test(e.hash)||(e.hash+="?"),e.hash+="&_suid="+e.id),e.hashedUrl=b.getFullUrl(e.hash),(b.emulated.pushState||b.bugs.safariPoll)&&b.hasUrlDuplicate(e)&&(e.url=e.hashedUrl),e)},b.createStateObject=function(t,e,i){var n={data:t,title:e,url:i};return n=b.normalizeState(n)},b.getStateById=function(t){return t=String(t),b.idToState[t]||b.store.idToState[t]||i},b.getStateString=function(t){var e;return e={data:b.normalizeState(t).data,title:t.title,url:t.url},h.stringify(e)},b.getStateId=function(t){return b.normalizeState(t).id},b.getHashByState=function(t){return b.normalizeState(t).hash},b.extractId=function(t){var e,i;return i=-1!=t.indexOf("#")?t.split("#")[0]:t,(e=/(.*)\&_suid=([0-9]+)$/.exec(i))&&e[1]||t,(e?String(e[2]||""):"")||!1},b.isTraditionalAnchor=function(t){return!/[\/\?\.]/.test(t)},b.extractState=function(t,e){var i,n,o=null;return e=e||!1,(i=b.extractId(t))&&(o=b.getStateById(i)),o||(n=b.getFullUrl(t),(i=b.getIdByUrl(n)||!1)&&(o=b.getStateById(i)),!o&&e&&!b.isTraditionalAnchor(t)&&(o=b.createStateObject(null,null,n))),o},b.getIdByUrl=function(t){return b.urlToId[t]||b.store.urlToId[t]||i},b.getLastSavedState=function(){return b.savedStates[b.savedStates.length-1]||i},b.getLastStoredState=function(){return b.storedStates[b.storedStates.length-1]||i},b.hasUrlDuplicate=function(t){var e;return(e=b.extractState(t.url))&&e.id!==t.id},b.storeState=function(t){return b.urlToId[t.url]=t.id,b.storedStates.push(b.cloneObject(t)),t},b.isLastSavedState=function(t){var e=!1;return b.savedStates.length&&(e=t.id===b.getLastSavedState().id),e},b.saveState=function(t){return!b.isLastSavedState(t)&&(b.savedStates.push(b.cloneObject(t)),!0)},b.getStateByIndex=function(t){return void 0===t?b.savedStates[b.savedStates.length-1]:t<0?b.savedStates[b.savedStates.length+t]:b.savedStates[t]},b.getCurrentIndex=function(){return b.savedStates.length<1?0:b.savedStates.length-1},b.getHash=function(t){var e=b.getLocationHref(t);return b.getHashByUrl(e)},b.unescapeHash=function(t){var e=b.normalizeHash(t);return e=decodeURIComponent(e)},b.normalizeHash=function(t){return t.replace(/[^#]*#/,"").replace(/#.*/,"")},b.setHash=function(t,e){var i,n;return!1!==e&&b.busy()?(b.pushQueue({scope:b,callback:b.setHash,args:arguments,queue:e}),!1):(b.busy(!0),(i=b.extractState(t,!0))&&!b.emulated.pushState?b.pushState(i.data,i.title,i.url,!1):b.getHash()!==t&&(b.bugs.setHash?(n=b.getPageUrl(),b.pushState(null,null,n+"#"+t,!1)):c.location.hash=t),b)},b.escapeHash=function(t){var e=b.normalizeHash(t);return e=r.encodeURIComponent(e),b.bugs.hashEscape||(e=e.replace(/\%21/g,"!").replace(/\%26/g,"&").replace(/\%3D/g,"=").replace(/\%3F/g,"?")),e},b.getHashByUrl=function(t){var e=String(t).replace(/([^#]*)#?([^#]*)#?(.*)/,"$2");return e=b.unescapeHash(e)},b.setTitle=function(t){var e,i=t.title;i||(e=b.getStateByIndex(0))&&e.url===t.url&&(i=e.title||b.options.initialTitle);try{c.getElementsByTagName("title")[0].innerHTML=i.replace("<","&lt;").replace(">","&gt;").replace(" & "," &amp; ")}catch(n){}return c.title=i,b},b.queues=[],b.busy=function(t){if(void 0!==t?b.busy.flag=t:"undefined"==typeof b.busy.flag&&(b.busy.flag=!1),!b.busy.flag){s(b.busy.timeout);var n=function(){var t,e,i;if(!b.busy.flag)for(t=b.queues.length-1;0<=t;--t)0!==(e=b.queues[t]).length&&(i=e.shift(),b.fireQueueItem(i),b.busy.timeout=a(n,b.options.busyDelay))};b.busy.timeout=a(n,b.options.busyDelay)}return b.busy.flag},b.busy.flag=!1,b.fireQueueItem=function(t){return t.callback.apply(t.scope||b,t.args||[])},b.pushQueue=function(t){return b.queues[t.queue||0]=b.queues[t.queue||0]||[],b.queues[t.queue||0].push(t),b},b.queue=function(t,e){return"function"==typeof t&&(t={callback:t}),void 0!==e&&(t.queue=e),b.busy()?b.pushQueue(t):b.fireQueueItem(t),b},b.clearQueue=function(){return b.busy.flag=!1,b.queues=[],b},b.stateChanged=!1,b.doubleChecker=!1,b.doubleCheckComplete=function(){return b.stateChanged=!0,b.doubleCheckClear(),b},b.doubleCheckClear=function(){return b.doubleChecker&&(s(b.doubleChecker),b.doubleChecker=!1),b},b.doubleCheck=function(t){return b.stateChanged=!1,b.doubleCheckClear(),b.bugs.ieDoubleCheck&&(b.doubleChecker=a(function(){return b.doubleCheckClear(),b.stateChanged||t(),!0},b.options.doubleCheckInterval)),b},b.safariStatePoll=function(){var t=b.extractState(b.getLocationHref());if(!b.isLastSavedState(t))return t||b.createStateObject(),b.Adapter.trigger(r,"popstate"),b},b.back=function(t){return!1!==t&&b.busy()?(b.pushQueue({scope:b,callback:b.back,args:arguments,queue:t}),!1):(b.busy(!0),b.doubleCheck(function(){b.back(!1)}),p.go(-1),!0)},b.forward=function(t){return!1!==t&&b.busy()?(b.pushQueue({scope:b,callback:b.forward,args:arguments,queue:t}),!1):(b.busy(!0),b.doubleCheck(function(){b.forward(!1)}),p.go(1),!0)},b.go=function(t,e){var i;if(0<t)for(i=1;i<=t;++i)b.forward(e);else{if(!(t<0))throw new Error("History.go: History.go requires a positive or negative integer passed.");for(i=-1;t<=i;--i)b.back(e)}return b},b.emulated.pushState){var t=function(){};b.pushState=b.pushState||t,b.replaceState=b.replaceState||t}else b.onPopState=function(t,e){var i,n,o=!1,a=!1;return b.doubleCheckComplete(),(i=b.getHash())?((n=b.extractState(i||b.getLocationHref(),!0))?b.replaceState(n.data,n.title,n.url,!1):(b.Adapter.trigger(r,"anchorchange"),b.busy(!1)),b.expectedStateId=!1):((a=(o=b.Adapter.extractEventData("state",t,e)||!1)?b.getStateById(o):b.expectedStateId?b.getStateById(b.expectedStateId):b.extractState(b.getLocationHref()))||(a=b.createStateObject(null,null,b.getLocationHref())),b.expectedStateId=!1,b.isLastSavedState(a)?(b.busy(!1),!1):(b.storeState(a),b.saveState(a),b.setTitle(a),b.Adapter.trigger(r,"statechange"),b.busy(!1),!0))},b.Adapter.bind(r,"popstate",b.onPopState),b.pushState=function(t,e,i,n){if(b.getHashByUrl(i)&&b.emulated.pushState)throw new Error("History.js does not support states with fragement-identifiers (hashes/anchors).");if(!1!==n&&b.busy())return b.pushQueue({scope:b,callback:b.pushState,args:arguments,queue:n}),!1;b.busy(!0);var o=b.createStateObject(t,e,i);return b.isLastSavedState(o)?b.busy(!1):(b.storeState(o),b.expectedStateId=o.id,p.pushState(o.id,o.title,o.url),b.Adapter.trigger(r,"popstate")),!0},b.replaceState=function(t,e,i,n){if(b.getHashByUrl(i)&&b.emulated.pushState)throw new Error("History.js does not support states with fragement-identifiers (hashes/anchors).");if(!1!==n&&b.busy())return b.pushQueue({scope:b,callback:b.replaceState,args:arguments,queue:n}),!1;b.busy(!0);var o=b.createStateObject(t,e,i);return b.isLastSavedState(o)?b.busy(!1):(b.storeState(o),b.expectedStateId=o.id,p.replaceState(o.id,o.title,o.url),b.Adapter.trigger(r,"popstate")),!0};if(o){try{b.store=h.parse(o.getItem("History.store"))||{}}catch(e){b.store={}}b.normalizeStore()}else b.store={},b.normalizeStore();b.Adapter.bind(r,"unload",b.clearAllIntervals),b.saveState(b.storeState(b.extractState(b.getLocationHref(),!0))),o&&(b.onUnload=function(){var t,e,i;try{t=h.parse(o.getItem("History.store"))||{}}catch(c){t={}}for(e in t.idToState=t.idToState||{},t.urlToId=t.urlToId||{},t.stateToId=t.stateToId||{},b.idToState)b.idToState.hasOwnProperty(e)&&(t.idToState[e]=b.idToState[e]);for(e in b.urlToId)b.urlToId.hasOwnProperty(e)&&(t.urlToId[e]=b.urlToId[e]);for(e in b.stateToId)b.stateToId.hasOwnProperty(e)&&(t.stateToId[e]=b.stateToId[e]);b.store=t,b.normalizeStore(),i=h.stringify(t);try{o.setItem("History.store",i)}catch(n){if(n.code!==DOMException.QUOTA_EXCEEDED_ERR)throw n;o.length&&(o.removeItem("History.store"),o.setItem("History.store",i))}},b.intervalList.push(d(b.onUnload,b.options.storeInterval)),b.Adapter.bind(r,"beforeunload",b.onUnload),b.Adapter.bind(r,"unload",b.onUnload)),b.emulated.pushState||(b.bugs.safariPoll&&b.intervalList.push(d(b.safariStatePoll,b.options.safariPollInterval)),"Apple Computer, Inc."!==n.vendor&&"Mozilla"!==(n.appCodeName||"")||(b.Adapter.bind(r,"hashchange",function(){b.Adapter.trigger(r,"popstate")}),b.getHash()&&b.Adapter.onDomLoad(function(){b.Adapter.trigger(r,"hashchange")})))},(!b.options||!b.options.delayInit)&&b.init()}(window);var Dribbble=Dribbble||{};Dribbble.JsConfig=Dribbble.JsConfig||{},Dribbble.isMobile=function(){var t=/iPhone|iPad|iPod|Android/i.test(navigator.userAgent),e="ontouchstart"in window||window.DocumentTouch&&document instanceof DocumentTouch;return t&&e},Dribbble.isMobileSafari=function(){return!!navigator.userAgent.match(/(iPad|iPhone|iPod touch)/)},Dribbble.isAndroidChrome=function(){var t=navigator.userAgent,e=/Android/i.test(t),i=/Chrome/i.test(t);return e&&i},Dribbble.isIosSafari=function(t){var e,i=navigator.userAgent,n="MacIntel"===navigator.platform&&1<navigator.maxTouchPoints;switch(t){case"iPhone":e=/(iPhone)/i.test(i);break;case"iPad":e=/(iPad)/i.test(i)||n;break;default:e=/(iPhone|iPad)/i.test(i)||n}var o=/WebKit/i.test(i),a=/CriOS/i.test(i),r=/FxiOS/i.test(i);return e&&o&&!a&&!r},Dribbble.isMobileViewport=function(){return window.matchMedia("screen and (max-width: 959px)").matches},$(document).ajaxSend(function(t,e,i){var n=$('meta[name="csrf-token"]').attr("content");i.noCSRF!=undefined&&0!=i.noCSRF||e.setRequestHeader("X-CSRF-Token",n)});var notificationSelectors=[".subscribe-to-notification-target",".subscribe-to-notification"],notificationLinkSelectors=$(notificationSelectors).map(function(t,e){return e+" a[data-method]"}).get();$(document).on("ajax:success",notificationLinkSelectors.join(", "),function(t,e){var i=$(t.target);$(i.parents(".subscribe-to-notification-target")[0]||i.closest(notificationSelectors.join(", "))).addClass("subscribe-to-notification").html(e)}),jQuery.fn.showAndHide=function(t){return $(t).hide(),this.show()},jQuery.fn.modelId=function(){var t=$(this).attr("id");if(null==t)return null;var e=t.split(/[-_]/g);return 1<e.length?e[e.length-1]:null},ShowAndHideControl=function(t){var e=$(t.target),i=$(t.showControl),n=$(t.hideControl);i.on("click",function(){return e.showAndHide(i),!1}),n.on("click",function(){return e.hide(),i.show(),!1})},$("a[data-hover]").on("hover",function(){var t=$(this);t.attr("data-hover-out",t.text()).text(t.attr("data-hover"))},function(){var t=$(this);t.text(t.attr("data-hover-out")),t.removeAttr("data-hover-out")}),$(document).on("click","a.block",function(t){var e=this;$.post(e.href,function(t){memberContainer(e).addClass("blocked-by-current-user").removeClass("followed-by-current-user listed-by-current-user"),t&&t.data&&Dribbble.EventBus.$emit("track:userBlocked",t.data)}),t.preventDefault()}),$(document).on("click","a.unblock",function(t){var e=this;$.ajax(e.href,{type:"DELETE",success:function(){memberContainer(e).removeClass("blocked-by-current-user")}}),t.preventDefault()}),$([".remove-from-team a",".leave-team a",".js-remove-from-team-link"]).each(function(t,e){$(document).on("click",".actions-list "+e,function(t){var e=this;$.ajax(e.href,{type:"DELETE",success:function(t){t.error?Dribbble.Notify.error(t.error):Dribbble.Notify.alert(t.success)}}),t.preventDefault()})}),window.matchMedia("screen and (min-width: "+DEVICE_WIDTH_BREAKPOINT+")").matches||$("#main .tabs > li.has-dd > a, div.full-tabs ul.full-tabs-links > li.more > a").on("click",function(){var t=$(this).parent();return t.hasClass("hover")?t.removeClass("hover"):($("#main .tabs > li.hover, div.full-tabs ul.full-tabs-links > li.hover").removeClass("hover"),t.addClass("hover")),!1}),$(document).on("click","a.action.draft",function(){var t=$(this).parent(
"form");return confirm($(this).data("message")+" "+t.data().userName+"?")&&$(this).parent("form").trigger("submit"),!1}),$(document).on("ajax:success",".draft-form",function(t,e,i,n){$(this).replaceWith(n.responseText)}).on("ajax:error",".draft-form",function(t,e){var i="Hrm\u2026 Something went wrong. If this persists, try refreshing the page.";406==e.status&&(i="This designer has already been invited. Find another designer to draft!",$(this).replaceWith(e.responseText)),Dribbble.Notify.alert(i)}),Dribbble.ActionMenu={bindEventListeners:function(){$("body").on({mouseenter:this.show.bind(this),mouseleave:this.hide.bind(this)},".actions-menu"),$(".action.settings, .action.grid").on("touchstart",this.toggle.bind(this)),$(".actions-list li a").on("click",function(t){this.hide(t)}.bind(this))},show:function(t){Dribbble.HoverCards&&Dribbble.HoverCards.dismiss(),$(t.target).closest(".actions-menu").addClass("active").find(".actions-list").show()},hide:function(t){$(t.target).closest(".actions-menu").removeClass("active").find(".actions-list").hide()},toggle:function(t){$(t.target).closest(".actions-menu").hasClass("active")?this.hide(t):this.show(t)}},Dribbble.ActionMenu.bindEventListeners(),Dribbble.defaultTipsyOptions={fade:!1,opacity:1,className:function(){return this.getAttribute("data-tipsy-class")},gravity:function(){var t=$(this);if(t.data("tipsy-gravity"))return t.data("tipsy-gravity");var e=100,i=t.offset(),n=i.left,o=i.top;return n<e?"sw":n>$(window).width()-e?o<e?"ne":"se":o<e?"n":"s"},html:!0},Dribbble.tipsyInit=function(){Dribbble.isMobile()?$("[rel*=tipsy]:not(.tipsy-mobile-disabled)").tipsy(Dribbble.defaultTipsyOptions):$("[rel*=tipsy]").tipsy(Dribbble.defaultTipsyOptions)},Dribbble.tipsyInit(),$(document).ajaxSuccess(function(){$(".tipsy").hide(),Dribbble.tipsyInit()}),Dribbble.FollowButton=function(t,r){return r=r||function(){return null},{initialize:function(){this.bindEventListeners()},bindEventListeners:function(){User.loggedIn()&&(t.on("click.follow-buttton",".follow-prompt a.follow",this.follow.bind(this)),t.on("click.follow-buttton",".follow-prompt a.unfollow",this.unfollow.bind(this)))},container:function(t){return t.data("container")?$(t.data("container")):memberContainer(t)},follow:function(t){var e=$(t.currentTarget),i=this.container(e);return i.hasClass("blocking-current-user")?Dribbble.Notify.alert("You have been blocked from following this account at the request of the member."):$.ajax(e.attr("href"),{type:"POST",beforeSend:function(){e.addClass("processing")}}).done(function(t){i.addClass("followed-by-current-user"),this.modifyFollowerCount(1,i),this.logAnalyticsFollow(e,{action:"follow"}),e.data("notify")&&Dribbble.Notify.success(e.data("notify")),Dribbble.EventBus&&Dribbble.EventBus.$emit("userFollow",{isFollowing:!0,username:e.attr("href").split("/")[1]}),t&&t.data&&Dribbble.EventBus.$emit("track:userFollowed",t.data)}.bind(this)).fail(function(t){Dribbble.Notify.alert(t.responseText)}).always(function(){e.removeClass("processing")}),!1},unfollow:function(t){var e=$(t.currentTarget),i=this.container(e);return $.ajax(e.attr("href"),{type:"DELETE",beforeSend:function(){e.addClass("processing")}}).done(function(){i.removeClass("followed-by-current-user"),this.modifyFollowerCount(-1,i),this.logAnalyticsFollow(e,{action:"unfollow"}),e.data("notify")&&Dribbble.Notify.success(e.data("notify")),Dribbble.EventBus&&Dribbble.EventBus.$emit("userFollow",{isFollowing:!1,username:e.attr("href").split("/")[1]})}.bind(this)).always(function(){e.removeClass("processing")}),!1},modifyFollowerCount:function(t,e){var i=r(e);if(i){var n=i.find(".meta"),o=i.find(".count"),a=parseInt(o.first().text().replace(",",""),10)+t;o.text(numberWithDelimiter(a)),1==a?n.text("Follower"):n.text("Followers")}},getAnalyticsInfo:function(t){return $container=t.closest(".follow-prompt"),[$container.data("ga-name"),$container.data("ga-key")]},logAnalyticsFollow:function(t,e){var i=this.getAnalyticsInfo(t);i[0]!==undefined&&Dribbble.Analytics.log(i[1],i[0],"event",{event_category:"Followers",event_action:e.action||"follow"})}}},new Dribbble.FollowButton($("#wrap")).initialize(),new Dribbble.FollowButton($(".player-cards .player-info"),function(t){return t.find(".stat-followers")}).initialize(),new Dribbble.FollowButton($(".shot-overlay")).initialize(),new Dribbble.FollowButton($(".profile-essentials"),function(){return $(".full-tabs .full-tabs-links .followers")}).initialize(),Dribbble.Overlay={overlays:[],anyOpen:function(){for(var t=0;t<this.overlays.length;t++)if(this.overlays[t].isOpen)return!0;return!1},find:function(t){for(var e=null,i=0;i<this.overlays.length;i++)this.overlays[i].$el&&this.overlays[i].$el.attr("id")&&this.overlays[i].$el.attr("id")===t&&(e=this.overlays[i]);return e},applyOptions:function(t,e){var i=function(t){return[].concat(t||[])};return t.$el=e.$el,e.trigger&&(t.trigger=e.trigger,t.bindTrigger()),t.beforeShow=i(e.beforeShow),t.onShow=i(e.onShow),t.beforeHide=i(e.beforeHide),t.onHide=i(e.onHide),e.remoteContent&&(t.remoteContent=e.remoteContent,t.beforeShow.push(e.loadRemoteContent||t.defaultLoadRemoteContent.bind(t)),t.onHide.push(e.hideRemoteContent||t.defaultHideRemoteContent.bind(t))),t.suppressClickToClose=e.suppressClickToClose,t.suppressEscToClose=e.suppressEscToClose,t}},Dribbble.Overlay.Simple=function(t){Dribbble.Overlay.applyOptions(this,t),Dribbble.Overlay.overlays.push(this)},Dribbble.Overlay.Simple.prototype={isOpen:!1,currentTarget:null,_runCallbacks:function(t){var i=!0;return $.each(t,function(t,e){i&&0==e()&&(i=!1)}.bind(this)),i},triggerHandler:function(t){t.preventDefault(),this.currentTarget=t.currentTarget,this.currentTarget.classList.contains("disabled")||this.show()},bindTrigger:function(){$(this.trigger).on("click",function(t){this.triggerHandler(t)}.bind(this))},find:function(t){return this.$el.find(t)},defaultOnComplete:function(t){t.redirect?window.location=t.redirect:$(this.remoteContent.el).html(t),$(document).trigger("overlay:ajaxComplete",this.remoteContent.el)},defaultLoadRemoteContent:function(){var t=this.remoteContent.url||$(this.currentTarget||this.trigger).attr("href");$.isFunction(t)&&(t=t.apply(this));var e={context:this,type:this.remoteContent.verb||"GET",url:t,success:this.defaultOnComplete.bind(this),complete:function(t,e){(this.remoteContent.onComplete||function(){}).call(this,t.responseText,e,t)}};this.remoteContent.data&&($.isFunction(this.remoteContent.data)?e.data=this.remoteContent.data.apply(this):e.data=this.remoteContent.data),$.ajax(e)},defaultHideRemoteContent:function(){$(this.remoteContent.el).html('<div class="processing">Loading\u2026</div>')},listenForEvents:function(){this.$el.on("click.overlay",".close",this.hide.bind(this)),this.$el.on("click.overlay",".cancel",this.hide.bind(this)),this.suppressClickToClose||this.$el.on("click.overlay",function(t){$(t.target).is(this.$el)&&this.hide()}.bind(this)),this.suppressEscToClose||(this.keyListeners=Dribbble.Hotkeys.map("overlay",{ESCAPE:this.hide.bind(this)}))},stopListeningForEvents:function(){this.$el.off("click.overlay"),this.keyListeners&&this.keyListeners.off()},show:function(t){return this._runCallbacks(this.beforeShow)&&(this.listenForEvents(),this.$el.css("height","100%"),this.$el.addClass("overlay-visible").one(this.whichTransitionEvent(),function(){this.$el.trigger("focus"),this._runCallbacks(this.onShow)}.bind(this)),this.isOpen=!0,t&&(this.modalClass=t,this.$el.addClass(t))),!1},hide:function(){return this._runCallbacks(this.beforeHide)&&(this.stopListeningForEvents(),this.$el.removeClass("overlay-visible").one(this.whichTransitionEvent(),function(){this._runCallbacks(this.onHide)}.bind(this)),this.isOpen=!1,this.modalClass&&(this.$el.removeClass(this.modalClass),this.modalClass=null)),!1},whichTransitionEvent:function(){if(this.transitionEvent)return this.transitionEvent;var t,e=document.createElement("fakeelement"),i={transition:"transitionend",OTransition:"oTransitionEnd",MozTransition:"transitionend",WebkitTransition:"webkitTransitionEnd"};for(t in i)if(e.style[t]!==undefined)return this.transitionEvent=i[t],i[t]}},Dribbble.Overlay.RemoteForm=function(t){Dribbble.Overlay.applyOptions(this,t),this.form=t.form,this.verb=t.verb||"POST",this.onSubmit=t.onSubmit||this.defaultOnSubmit.bind(this),this.onSuccess=t.onSuccess||this.defaultOnSuccess.bind(this),this.onError=t.onError||this.defaultOnError.bind(this),this.containerToUpdateOnSuccess=t.containerToUpdateOnSuccess,this.containerToUpdateOnFailure=t.containerToUpdateOnFailure,this.successNotification=t.successNotification,Dribbble.Overlay.overlays.push(this)},Dribbble.Overlay.RemoteForm.prototype=$.extend({},Dribbble.Overlay.Simple.prototype,{defaultOnError:function(t){422==t.status?$(this.containerToUpdateOnFailure).html(t.responseText):Dribbble.Notify.alert(t.responseText)},listenForEvents:function(){Dribbble.Overlay.Simple.prototype.listenForEvents.apply(this),this.$el.on("submit.remoteOverlay",this.form||"form",this.onSubmit)},stopListeningForEvents:function(){Dribbble.Overlay.Simple.prototype.stopListeningForEvents.apply(this),this.$el.off("submit.remoteOverlay")},defaultOnSuccess:function(t){0==this.$el.find(this.containerToUpdateOnSuccess).length&&this.hide(),$(this.containerToUpdateOnSuccess).html(t),this.successNotification&&Dribbble.Notify.success(this.successNotification)},defaultOnSubmit:function(t){var e;t&&t.preventDefault(),e=t&&"FORM"==t.currentTarget.tagName?$(t.currentTarget):this.find(this.form||"form"),$.ajax({context:this,type:this.verb,url:e.attr("action"),data:e.serialize(),success:this.onSuccess,error:this.onError})}}),Dribbble.Overlay.Adapters={bind:function(t,e){var i=t.data(),n={$el:$(i.overlay||"#overlay"),trigger:t,form:i.form,containerToUpdateOnFailure:i.failureContainer||i.remoteContent&&i.remoteContent.container,containerToUpdateOnSuccess:i.successContainer,successNotification:i.notification,suppressClickToClose:i.suppressClickToClose,suppressEscToClose:i.suppressEscToClose};i.remoteContent&&(n.remoteContent={el:i.remoteContent.container,url:i.remoteContent.url}),t.data().overlayObj=new e(n),i.trackingData&&(t.data().overlayObj.trackingData=i.trackingData)},SimpleTrigger:function(t){Dribbble.Overlay.Adapters.bind(t,Dribbble.Overlay.Simple)},RemoteFormTrigger:function(t){Dribbble.Overlay.Adapters.bind(t,Dribbble.Overlay.RemoteForm)},bindAll:function(){$(".overlay-trigger").each(function(){$(this).data().overlayObj||new Dribbble.Overlay.Adapters.SimpleTrigger($(this))}),$(".overlay-form-trigger").each(function(){$(this).data().overlayObj||new Dribbble.Overlay.Adapters.RemoteFormTrigger($(this))})}},Dribbble.Overlay.Adapters.bindAll(),$(document).ajaxComplete(function(){setTimeout(function(){Dribbble.Overlay.Adapters.bindAll()})}),$(".psst .close").on("click",function(){var t=$(this).next(),e=t.next();$.post(t.data("url")),0==e.length?$(".psst").slideUp():t.fadeOut(function(){t.remove(),e.fadeIn()})}),Dribbble.Shots={data:{},loggingEnabled:!0,gaLoggingEnabled:!0,get:function(t){return this.data[t]},add:function(t){$(t).each(function(t,e){this.data[e.id]?this.update(e.id,e):this.data[e.id]=e}.bind(this))},update:function(t,e){var i=this.data[t];if(i){for(var n in e)i[n]=e[n];i.likeCount&&i.likeCount.render()}},clear:function(){this.data={}},idFromShotDiv:function(t){return t[0].id.split("-")[1]},logView:function(t){this.loggingEnabled&&(Dribbble.ShotViewRecorder.queueView(t),this.logAnalyticsView(t))},logViewForShotInDiv:function(t){this.logView(this.idFromShotDiv(t))},analyticsKeys:function(t){return this.gaLoggingEnabled&&this.data[t]?this.data[t].ga:[]},logAnalyticsView:function(t){for(var e=this.analyticsKeys(t),i=0;i<e.length;i++){var n=e[i],o=this.data[t];Dribbble.Analytics.logPageView(n[1],n[0],o.path,o.title)}},logAnalyticsLike:function(t,e){for(var i=this.analyticsKeys(t),n=0;n<i.length;n++){var o=i[n];Dribbble.Analytics.log(o[1],o[0],"event",{event_category:"Shots",event_action:e.action||"like",event_label:"Shot: "+t})}}},Dribbble.TeaserStats={init:function(t){var e=$("#main ol.dribbbles>li");$(t).each(function(t,e){var i=$("ol.dribbbles li#screenshot-"+e.id);0<e.rebounds_count?i.find(".has-rebounds").html(numberWithDelimiter(e.rebounds_count)).closest("a").show():e.is_rebound&&i.find(".is-rebound").closest("a").show(),0<e.attachments_count&&i.find(".attachments-mark").show(),i.find(".js-shot-views-container .js-shot-views-count").html(numberWithDelimiter(e.view_count)),i.find(".js-shot-comments-container").each(function(){$(this).find(".js-shot-comments-count").html(numberWithDelimiter(e.comments_count)).tipsy(Dribbble.defaultTipsyOptions)}),i.find(".timestamp").html(e.published_at),e.likeCount=new Dribbble.TeaserStats.LikeCount(e,i),e.likeCount.render()}),e.find(".js-shot-details-container").css({visibility:"visible"})}},Dribbble.TeaserStats.LikeCount=function(t,e){var i;return{initialized:!1,init:function(){this.initialized||(i=e.find(".js-shot-likes-container"),User.loggedIn()||e.find("a.like-shot").attr({"data-signup-trigger":"","data-context":"like-shot"}),this.initialized=!0)},render:function(){this.init(),i.find(".js-shot-likes-count").html(numberWithDelimiter(t.likes_count)),i.toggleClass("marked",t.liked)}}},"undefined"!=typeof newShots&&(Dribbble.Shots.add(newShots),Dribbble.TeaserStats.init(newShots)),Dribbble.String={capitalize:function(t){return t.charAt(0).toUpperCase()+t.slice(1)},kebabCaseToTitleCase:function(t){return t.split("-").join(" ").replace(/\w\S*/g,function(t){return this.capitalize(t)}.bind(this))}},Dribbble.AdNetworks=Dribbble.AdNetworks||{},Dribbble.AdNetworks.Boost={load:function(t){var e={impression_id:t.requestId,placement:Dribbble.String.kebabCaseToTitleCase(t.placement),provider:"Dribbble",unit_type:"Boosted Shots"};Dribbble.Itly.adRequested(e);var i=document.querySelector(".js-shot-page-ad-boosted");if(i){var n=i.dataset.boostUrl||"/screenshot_boost?request_source=Similar Work";$.ajax({type:"GET",url:n,success:function(t){$(".boosted-shot-container").html(t),Dribbble.AdNetworks.Ad.init({itlyTrackingEventProperties:e,adElement:i}),Dribbble.EventBus.$emit("boostedShotsAd:initialize")},error:function(){Dribbble.Itly.adRequestFailed(Object.assign(e,{reason:"No boosted shots available."})),i.style.display="none";var t=document.querySelector('.js-thumbnail[data-is-boost-fallback="true"]');t&&t.classList.remove("hidden-shot")}.bind(this)})}},logBoostedAdEvent:function(t,e){if(e&&e.ad_link){var i=e.ad_id;$.ajax({type:"POST",url:"/client_app/screenshot_boost_ad_events",data:{event_name:t,screenshot_boost_id:i,request_source:"Similar Work"}})}}},Dribbble.AdNetworks.Ad={init:function(t){if(this.adElement=t.adElement,this.hasBeenScrolledIntoView=!1,this.itlyTrackingEventProperties=t.itlyTrackingEventProperties,this.adElement){var e=this.adElement.querySelector("[data-ad-data]");if(e){var i;switch(this.adData=JSON.parse(e.dataset.adData),this.adData.ad_link_type){case"shot-page":i="Shot";break;case"profile":i="Profile";break;case"custom":default:i="Custom URL"}this.itlyAdData={ad_id:this.adData.ad_id.toString(),ad_link:this.adData.ad_link,ad_link_type:i,ad_text:this.adData.ad_text||"",has_cta:!1}}Dribbble.Itly.adServed(Object.assign(this.itlyTrackingEventProperties,this.itlyAdData)),Dribbble.AdNetworks.Boost.logBoostedAdEvent("ad_served",this.adData),this.bindEvents()}else Dribbble.Itly.adRequestFailed(Object.assign(this.itlyTrackingEventProperties,{reason:"Ad element was not found."}))},bindEvents:function(){this.adElement.querySelectorAll(".js-boosted-shot-link").forEach(function(t){t.onclick=this.onClickAd.bind(this)},this);var t=document.querySelector(".shot-overlay.overlay-visible .overlay-content");t?t.onscroll=function(){this.onScroll(t)}.bind(this):window.onscroll=function(){this.onScroll()}.bind(this)},onClickAd:function(){Dribbble.Itly.adClicked(Object.assign(this.itlyTrackingEventProperties,this.itlyAdData))},onScroll:function(){this.adElement&&(this.adElement.getBoundingClientRect().bottom<=window.innerHeight&&!this.hasBeenScrolledIntoView&&(this.hasBeenScrolledIntoView=!0,Dribbble.Itly.adImpressionViewed(Object.assign(this.itlyTrackingEventProperties,this.itlyAdData)),Dribbble.AdNetworks.Boost.logBoostedAdEvent("ad_impression_viewed",this.adData)))}},Dribbble.Hotkeys={listeners:{},KEY_ALIASES:{LEFT:37,RIGHT:39,ESCAPE:27,ENTER:13},initialize:function(){this.bindKeys()},bindKeys:function(){$(document).on("keyup",function(t){if(!this.isFormField(t.target.tagName)&&!this.isModifierKey(t)){var e=this.keyName(t.which);this.keyName&&this.trigger(e,t)}}.bind(this))},isFormField:function(t){return"INPUT"==t||"TEXTAREA"==t},isModifierKey:function(t){return t.ctrlKey||t.altKey||t.shiftKey||t.metaKey},keyName:function(t){var e=Dribbble.Hotkeys.KEY_ALIASES;for(var i in e)if(e[i]===t)return i;return String.fromCharCode(t)},map:function(t,e,i){return this.listeners[t]&&this.listeners[t].off(),this.listeners[t]=e,this.listeners[t].isApplicable=i||function(){return!0},this.listeners[t].off=function(){delete this.listeners[t]}.bind(this),this.listeners[t]},trigger:function(t,e){for(var i in this.listeners){var n=this.listeners[i];n[t]&&n.isApplicable()&&n[t](e)}}},Dribbble.Hotkeys.TextAreaSubmission={eventName:"keydown.keyboardSubmit",shortcutCopy:(navigator.userAgent.match(/Macintosh/)?"\u2318":"ctrl")+"+enter",enable:function(){$(document).off(this.eventName).on(this.eventName,"textarea",function(t){(t.metaKey||t.ctrlKey)&&t.keyCode==Dribbble.Hotkeys.KEY_ALIASES.ENTER&&(t.preventDefault(),$(this).closest("form").trigger("submit"))}),this.fillShortcuts()},fillShortcuts:function(){$(".keyboard-submit-shortcut").text(this.shortcutCopy)}},Dribbble.Hotkeys.initialize(),Dribbble.Hotkeys.TextAreaSubmission.enable(),function(){var i,t=function(t){var e=$.trim($(".pagination:last").find(t).attr("href"));e&&(i.off(),document.location=e)};i=Dribbble.Hotkeys.map("list",{LEFT:function(){t(".previous_page")},RIGHT:function(){t(".next_page")}},function(){return!(!(0<$(".previous_page:visible, .next_page:visible").length)||Dribbble.Overlay&&Dribbble.Overlay.anyOpen()||Dribbble.ShotOverlay&&Dribbble.ShotOverlay.isOpen)})}(),Dribbble.Router={initialize:function(){Dribbble.isHistorySupported&&History.Adapter.bind(window,"statechange",function(){var t=document.location.pathname,e=/\/attachments(\/|$)/;$(".attachment-overlay").is(":visible")?t.match(e)?Dribbble.Attachments.showOverlay(document.location.toString()):Dribbble.Attachments.hideOverlay():t.match(e)?void 0!==Dribbble&&Dribbble.Attachments?Dribbble.Attachments.showOverlay(document.location.toString()):window.location.reload(!0):$("#viewer").length?window.location.reload(!0):Dribbble.GoodOverlay||Dribbble.ShotOverlay&&Dribbble.ShotOverlay.active?t.match(/^\/shots\/\d+[^/]+$/)?Dribbble.ShotOverlay.show(document.location.toString(),Dribbble.Router.referer):t.match(/^\/goods\/\d+[^/]+$/)?Dribbble.GoodOverlay.show(document.location.toString(),Dribbble.Router.referer):Dribbble.GoodOverlay&&Dribbble.GoodOverlay.isOpen()?Dribbble.GoodOverlay.hide():Dribbble.ShotOverlay.hide():Dribbble.ShotOverlayModal&&Dribbble.ShotOverlayModal.active?t.match(/^\/shots\/\d+[^/]+$/)?Dribbble.ShotOverlayModal.show(document.location.toString()):Dribbble.ShotOverlayModal.hide():t.match(/\/scout/)?window.location.reload(!0):t.match(/^\/admin\/talent/)?$(document).scrollTop(0):($(document).scrollTop(0),window.location.reload(!0)),history.state!=undefined&&history.state.title!=undefined&&(document.title=history.state.title)})},go:function(t){history.go(t)},pushState:function(t,e,i){this.referer=window.location.toString(),History.pushState(t,e,i)},replaceState:function(t,e,i){history.replaceState(t,e,i),document.title=e}},Dribbble.Router.initialize(),function(t){var e=!1;if("function"==typeof define&&define.amd&&(define(t),e=!0),"object"==typeof exports&&(module.exports=t(),e=!0),!e){var i=window.Cookies,n=window.Cookies=t();n.noConflict=function(){return window.Cookies=i,n}}}(function(){function m(){for(var t=0,e={};t<arguments.length;t++){var i=arguments[t];for(var n in i)e[n]=i[n]}return e}function t(b){function p(t,e,i){var n;if("undefined"!=typeof document){if(1<arguments.length){if("number"==typeof(i=m({path:"/"},p.defaults,i)).expires){var o=new Date;o.setMilliseconds(o.getMilliseconds()+864e5*i.expires),i.expires=o}i.expires=i.expires?i.expires.toUTCString():"";try{n=JSON.stringify(e),/^[\{\[]/.test(n)&&(e=n)}catch(f){}e=b.write?b.write(e,t):encodeURIComponent(String(e)).replace(/%(23|24|26|2B|3A|3C|3E|3D|2F|3F|40|5B|5D|5E|60|7B|7D|7C)/g,decodeURIComponent),t=(t=(t=encodeURIComponent(String(t))).replace(/%(23|24|26|2B|5E|60|7C)/g,decodeURIComponent)).replace(/[\(\)]/g,escape);var a="";for(var r in i)i[r]&&(a+="; "+r,!0!==i[r]&&(a+="="+i[r]));return document.cookie=t+"="+e+a}t||(n={});for(var s=document.cookie?document.cookie.split("; "):[],l=/(%[0-9A-Z]{2})+/g,c=0;c<s.length;c++){var d=s[c].split("="),u=d.slice(1).join("=");'"'===u.charAt(0)&&(u=u.slice(1,-1));try{var h=d[0].replace(l,decodeURIComponent);if(u=b.read?b.read(u,h):b(u,h)||u.replace(l,decodeURIComponent),this.json)try{u=JSON.parse(u)}catch(f){}if(t===h){n=u;break}t||(n[h]=u)}catch(f){}}return n}}return(p.set=p).get=function(t){return p.call(p,t)},p.getJSON=function(){return p.apply({json:!0},[].slice.call(arguments))},p.defaults={},p.remove=function(t,e){p(t,"",m(e,{expires:-1}))},p.withConverter=t,p}return t(function(){})}),Dribbble.ShotViewRecorder={seenShotIds:[],recordedIds:[],recordingDelay:3e3,recordingMaxQueueDepth:10,recordingTimeoutId:null,submitting:!1,queueView:function(t){-1==this.seenShotIds.indexOf(t)&&this.seenShotIds.push(t),this.queueRecordViewedShots()},queueRecordViewedShots:function(){clearTimeout(this.recordingTimeoutId);var t=this.recordingDelay;this.seenShotIds.length-this.recordedIds.length>=this.recordingMaxQueueDepth&&(t=0),this.recordingTimeoutId=setTimeout(function(){this.submitting?this.queueRecordViewedShots():this.recordViewedShots()}.bind(this),t)},recordViewedShots:function(){this.submitting=!0;var t=$(this.seenShotIds).not(this.recordedIds).get();if(0<t.length){var e=$.post("/shots/log_views",{ids:t});e.done(function(){this.recordedIds=this.recordedIds.concat(t)}.bind(this)),e.always(function(){this.submitting=!1}.bind(this))}else this.submitting=!1},getFeedLocation:function(){var t=window.location.pathname,e={list:document.body.id};switch(e.list){case"home":e.list="following";break;case"colors":e.color=t.slice(1).split("/")[1];break;case"places":e.place=t.slice(1).split("/")[1];break;case"page":0<t.indexOf("lists")&&(e.list="list");break;case"shots":params=window.location.search.slice(1),params.length&&params.split("&").forEach(function(t){t=t.split("="),-1<["list","sort","timeframe"].indexOf(t[0])&&(e[t[0]]=t[1])}),e.sort||(e.sort="popular");break;case"profile-secondary":0<t.indexOf("buckets")?e.list="bucket":0<t.indexOf("goods")?e.list="goods":0<t.indexOf("likes")&&(e.list="likes")}return e}},Dribbble.ButtonDropdown={buttonDropdowns:document.querySelectorAll(".btn-dropdown"),buttonDropdownLinks:document.querySelectorAll(".btn-dropdown-link"),initialize:function(){this.buttonDropdowns.length&&this.buttonDropdownLinks.length&&(this.bindEventListeners(),this.buttonDropdownLinks.forEach(function(t){var e=t.querySelector("span");t.dataset.dropdownState="closed",e&&e.dataset.fadeDefault&&e.innerText.trim()==e.dataset.prompt&&e.classList.add("default-option")}))},bindEventListeners:function(){0!==this.buttonDropdownLinks.length&&this.buttonDropdownLinks.forEach(this._bindEachDropdown.bind(this))},addLinks:function(t,e){this.buttonDropdownLinks=Array.prototype.slice.call(this.buttonDropdownLinks).concat(e),this.buttonDropdowns=Array.prototype.slice.call(this.buttonDropdowns).concat(t),e.forEach(this._bindEachDropdown.bind(this))},closeAll:function(){this.buttonDropdowns.forEach(function(t){t.classList.contains("open")&&(t.classList.remove("open"),t.querySelector(".btn-dropdown-link").dataset.dropdownState="closed")})},closeAllWhenClickedOutside:function(e){var i=!1;this.buttonDropdownLinks.forEach(function(t){t.contains(e.target)&&(i=!0)}),i||this.closeAll()},resetDropdown:function(t,e){t.querySelectorAll(".active").forEach(function(t){t.classList.remove("active")});var i=t.querySelector(".btn-dropdown-link span");i.dataset.fadeDefault&&i.classList.add("default-option"),i.innerText=e||i.dataset.prompt,t.querySelector(".btn-dropdown-options .default-filter-option").classList.add("active")},updateDropdown:function(t,e){if(e){var i=t.querySelector('[data-value="'+e+'"] a');i&&this._selectOption({target:i})}else this.resetDropdown(t)},click:function(t,e){e||(e={bubbles:!0,cancelable:!1});var i=document.querySelector(t);i&&(event=new MouseEvent("click",e),i.dispatchEvent(event))},_bindEachDropdown:function(t){t.addEventListener("click",this._openDropdown.bind(this)),t.nextElementSibling.querySelectorAll("a").forEach(this._bindEachOption.bind(this))},_bindEachOption:function(t){t.addEventListener("click",this._selectOption.bind(this))},_selectOption:function(t,e){var i=t.target,n=i.closest(".btn-dropdown"),o=n.querySelector("span"),a=n.querySelector(".active");a&&a.classList.remove("active"),o&&(o.innerHTML=e||i.innerHTML,o.dataset.fadeDefault&&o.innerText.trim()==o.dataset.prompt?o.classList.add("default-option"):o.classList.remove("default-option")),i.parentNode.classList.add("active")},_openDropdown:function(t){t.preventDefault(),t.currentTarget.dataset.dropdownState="open"==t.currentTarget.dataset.dropdownState?"closed":"open";var e=t.target.closest(".btn-dropdown-link"),i=e.parentNode.classList.contains("open");this.closeAll(),i||(document.addEventListener("click",this.closeAllWhenClickedOutside.bind(this)),e.parentNode.classList.add("open"))}},Dribbble.pathName=function(t){var e=document.createElement("a");e.href=t;var i=e.pathname;return"/"!=i.charAt(0)?"/"+i:i},Dribbble.Analytics={existingProperties:[],sentEvents:[],reset:function(){this.existingProperties=[],this.sentEvents=[],this.namedRoot=null,this.googleAnalyticsKey=null},logDribbbleGAPageView:function(){gtag("config",this.googleAnalyticsKey)},logPageView:function(t,e,i,n){this.log(t,"page_view","event",{page_path:i,page_title:n})},log:function(t,e,i,n,o){if("undefined"==typeof ga&&"undefined"==typeof gtag)(o=2*(o||50))<1e4&&setTimeout(function(){this.log(t,e,i,n,o)}.bind(this),o);else{var a={send_to:t,name:e};gtag(i,e,Object.assign(a,n))}}},Dribbble.Media||(Dribbble.Media={}),Dribbble.Media.LoadingIndicator=function(t){var e=[24,48,72,96],i=e.length,n=!1;return{activate:function(){n=!0,this.show(),this.progress()},deactivate:function(){n=!1,t.style.backgroundPositionY="0px"},hide:function(){t.style.display="none"},progress:function(){n&&(0<i?i-=1:i=e.length,t.style.backgroundPositionY=e[i]+"px",setTimeout(this.progress.bind(this),250))},show:function(){t.style.display="block"}}},Dribbble.AnimatedGifSwap={animatedUrl:function(t){return t.replace(/(.*)_(1x|still_2x|still|teaser)(.*?)$/,"$1$3")},attach:function(t,e){$(document).on({mouseenter:function(t){this.swapperFor($(t.currentTarget),e).activate()}.bind(this),mouseleave:function(t){this.swapperFor($(t.currentTarget)).deactivate()}.bind(this)},t)},swapperFor:function(t,e){if(!t.data("gif-swapper")){var i=t;e.parentSelector&&(i=t.parents(e.parentSelector)),t.data("gif-swapper",new Dribbble.AnimatedGifSwap.Swapper(i,e.picSelector))}return t.data("gif-swapper")}},Dribbble.AnimatedGifSwap.Swapper=function(t,e){var i=t.find(e),n=i.find("img"),o=n.data("animated-url")||null,a=new Dribbble.Media.LoadingIndicator(t.find(".loading-indicator")[0]);return{$shot:t,$imageContainer:i,$image:n,loaded:!1,hovering:!1,animatedSrc:o||Dribbble.AnimatedGifSwap.animatedUrl(i.find("img").attr("src")),activate:function(){this.hovering=!0,this.swapImage()},deactivate:function(){this.hovering=!1,this.restoreImage(),a.deactivate(),a.show()},loadImageInBackground:function(t,e){var i=new Image;i.onload=function(){this.loaded=!0,e()}.bind(this),i.src=t},restoreImage:function(){this.$imageContainer.find("source, img").each(function(t,e){this.revertSrc($(e))}.bind(this)),"undefined"!==n.data("srcset")&&this.loaded&&this.revertSrcset(n.data("srcset"))},swapImage:function(){this.loaded?(this.$imageContainer.find("source, img").each(function(t,e){this.updateSrc($(e))}.bind(this)),Dribbble.Shots.logViewForShotInDiv(t),a.deactivate(),a.hide()):(a.activate(),this.loadImageInBackground(this.animatedSrc,function(){this.hovering&&this.swapImage()}.bind(this)))},updateSrc:function(t){var e=this.srcAttr(t),i=t.attr(e);(t.is("img")&&t.attr("srcset")?t.attr("srcset"):null)&&t.removeAttr("srcset"),void 0===t.attr("data-originalsrc")&&t.attr("data-originalsrc",i),t.attr(e,this.animatedSrc)},revertSrc:function(t){t.attr(this.srcAttr(t),t.attr("data-originalsrc"))},revertSrcset:function(t){this.$image.attr("srcset",t)},srcAttr:function(t){return t.is("img")?"src":"srcset"}}},Dribbble.MediaSwap=function(){var t=function(t){if(this.selector=t,this.elements=document.querySelectorAll(t),this.active=!1,!Dribbble.isMobile()){for(var e=0;e<this.elements.length;e++)el=this.elements[e],el.triggerTarget||(el.loaded=!1,el.triggerTarget=el,el.triggerTarget.parentContainer=el,el.triggerTarget.loadingIndicator=new Dribbble.Media.LoadingIndicator(el.querySelector(".loading-indicator")),el.triggerTarget.addEventListener("mouseenter",i.mouseenter),el.triggerTarget.addEventListener("mouseleave",i.mouseleave));this.active=!0}},i={mouseenter:function(){var t=function(){this.loaded=!0,this.loadingIndicator.deactivate(),this.loadingIndicator.hide()};if(!this.parentContainer.video){var e=document.createElement("video");(this.parentContainer.video=e).className="dribbble-video",e.muted=!0,e.autoplay=!0,e.loop=!0,this.parentContainer.offsetWidth<400?e.src=this.parentContainer.dataset.videoTeaserSmall:this.parentContainer.offsetWidth<800?e.src=this.parentContainer.dataset.videoTeaserMedium:e.src=this.parentContainer.dataset.videoTeaserLarge,this.loaded||e.addEventListener("canplaythrough",t.bind(this)),this.parentContainer.appendChild(e),this.parentContainer.insertBefore(e,this.parentContainer.firstChild)}this.parentContainer.video.paused&&this.parentContainer.video.play()["catch"](function(){}),this.parentContainer.video.style.display="block",this.parentContainer.video.style.visibility="visible",this.loaded?(this.loadingIndicator.deactivate(),this.loadingIndicator.hide()):this.loadingIndicator.activate()},mouseleave:function(){if(!this.parentContainer.video.paused)try{this.parentContainer.video.pause()}catch(t){}this.parentContainer.video.style.display="none",this.parentContainer.video.style.visibility="hidden",this.loadingIndicator.deactivate(),this.loadingIndicator.show()}};return t}(),Dribbble.HoverCards={fetchDelay:500,displayDelay:1e3,pendingDisplayId:null,pendingFetchId:null,tooCloseToTop:350,cache:{},displayedURL:null,dismissed:!1,cardBoundaries:null,wrapper:null,initialize:function(t){this.scopeSelector=t,this.bindEventListeners()},bindEventListeners:function(){$(this.scopeSelector).on("mouseenter.hovercard","a.hoverable",this.mouseenter.bind(this))},findCard:function(){var t="new-hover-card",e=$("."+t);return 0<e.length?e:($("body").prepend('<div class="'+t+'"></div>'),new Dribbble.FollowButton($("."+t),function(t){return t.parent().find(".followers")}).initialize(),this.findCard())},mouseenter:function(t){if(!t.ctrlKey&&!t.metaKey){var e=$(t.currentTarget),i=(e.data("card")||e.attr("href"))+"/hover_card",n=this.displayedURL!=i;if(this.displayedURL)if(n)this.dismiss();else if(!this.dismissed)return!1;this.displayedURL=i,this.dismissed=!1;var o=+new Date,a=this.findCard();return this.wrapper=e.closest(".hover-card-parent"),0==this.wrapper.length&&(this.wrapper=e.parent()),this.addHandlerForDismissal(),this.cache[i]?(n&&a.html(this.cache[i]),this.delayedShow(a,o)):this.delayedFetch(a,i,o),!1}},dismiss:function(){this.dismissed&&!this.pendingDisplayId||(this.dismissed=!0,clearTimeout(this.pendingFetchId),clearTimeout(this.pendingDisplayId),this.pendingFetchId=this.pendingDisplayId=null,this.cardBoundaries=null,$(this.scopeSelector).off("mousemove.hovercard"),this.findCard().hide())},delayedShow:function(t,e){var i=this.displayDelay-(+new Date-e);this.triggerBoundaries=this.getBoundariesForElement(this.wrapper);var n=this.triggerBoundaries.left+t.outerWidth(),o=this.wrapper[0].getBoundingClientRect().top;t.toggleClass("center",n>document.documentElement.clientWidth),t.toggleClass("top",o<this.tooCloseToTop);var a={left:this.triggerBoundaries.left,bottom:"",top:""};o<this.tooCloseToTop?a.top=this.triggerBoundaries.top+this.wrapper.outerHeight():a.bottom=$(window).height()-this.triggerBoundaries.top,t.css(a),clearTimeout(this.pendingDisplayId),this.pendingDisplayId=setTimeout(function(){User.loggedOut()&&Dribbble.SignupModal.overlay.bindTrigger(),
t.show(),this.cardBoundaries=this.getBoundariesForElement(t),o<this.tooCloseToTop?this.cardBoundaries.top-=this.wrapper.outerHeight():this.cardBoundaries.bottom+=this.wrapper.outerHeight()}.bind(this),i)},delayedFetch:function(e,i,n){clearTimeout(this.pendingFetchId),this.pendingFetchId=setTimeout(function(){this.dismissed||$.get(i,function(t){this.dismissed||(e.html(t).find("[rel=tipsy]").removeAttr("rel"),this.cache[i]=e.html(),this.delayedShow(e,n))}.bind(this))}.bind(this),this.fetchDelay)},checkShouldDismissOnMouseMove:function(t){this.mouseIn(t,this.cardBoundaries)||this.wrapper.is(":hover")||this.dismiss()},getBoundariesForElement:function(t){var e=t.offset();return e.right=t.outerWidth()+e.left,e.bottom=t.outerHeight()+e.top,e},mouseIn:function(t,e){return null!=e&&t.pageX>=e.left&&t.pageX<=e.right&&t.pageY>=e.top&&t.pageY<=e.bottom},addHandlerForDismissal:function(){this.removeHandlerForDismissal(),$(this.scopeSelector).on("mousemove.hovercard",this.checkShouldDismissOnMouseMove.bind(this))},removeHandlerForDismissal:function(){$(this.scopeSelector).off("mousemove.hovercard")}},Dribbble.isMobile()||Dribbble.HoverCards.initialize("body"),Dribbble.Url={addParams:function(t,e){var i=t.split("#"),n=i[0]+this.urlJoinCharacter(t),o=i[1],a=[];($.isArray(e)?e:Object.keys(e).map(function(t){return[t,e[t]]})).forEach(function(t){var e=t[0],i=t[1];$.isArray(i)?i.forEach(function(t){a.push(e+"[]="+encodeURIComponent(t))}):a.push(e+"="+encodeURIComponent(i))});var r=n+a.join("&");return o&&(r+="#"+o),r},parse:function(t){var e=document.createElement("a");return e.href=t,e},urlJoinCharacter:function(t){return-1==t.indexOf("?")?"?":"&"},extractParams:function(t){return t.split("?")[1]},getUrlParamByName:function(t,e){e=e||window.location;var i=RegExp("[?&]"+t+"=([^&]*)").exec(e.search);return i&&decodeURIComponent(i[1].replace(/\+/g," "))}},Dribbble.SingleSubmit={},Dribbble.SingleSubmit.disableForm=function(t,e){e=e||"Processing\u2026",t.attr("disabled","disabled"),t.find("button[type=submit], input[type=submit]").attr("disabled","disabled"),t.find("button[type=submit]").each(function(t,e){$(e).data("original-preprocessing-text",$(e).text())}).text(e),t.find("input[type=submit]").each(function(t,e){$(e).data("original-preprocessing-text",$(e).val())}).val(e)},Dribbble.SingleSubmit.enableForm=function(t){t.removeAttr("disabled"),t.find("button[type=submit], input[type=submit]").removeAttr("disabled","disabled"),t.find("button[type=submit]").each(function(t,e){$(e).text($(e).data("original-preprocessing-text")||"Submit")}),t.find("input[type=submit]").each(function(t,e){$(e).val($(e).data("original-preprocessing-text")||"Submit")})},Dribbble.SingleSubmit.bind=function(t,i){var e=$(t);e.data("single-submit")||(e.on("submit.singleSubmit",function(t){var e=$(t.currentTarget);Dribbble.SingleSubmit.disableForm(e,i)}),e.data("single-submit",!0))},Dribbble.Autocomplete=function(t,o,a){var r,s=$(t),e=function(){if(s.autocomplete(o),r=s.data("uiAutocomplete"),o.renderer&&(r._renderItem=o.renderer),o.keypress&&s.on("keypress.autocomplete",o.keypress),o.stayOpenOnMetaSelect){var e,i=r.menu.select;r.menu.select=function(t){e=t.shiftKey||t.ctrlKey||t.metaKey,i.apply(this,arguments)};var n=r._close;r._close=function(t){return!e&&n.apply(this,arguments)}}a&&a(r)};if(s.autocomplete)e(s);else{var i="keypress.autocomplete.preload";s.on(i,function(){s.off(i),$.getScript("/assets/jquery-ui-1.12.1-d981b6dbbbd74051ddbc7410e3794192a3f41b948ad0fc28bad142287d811f6b.js",function(){e(),s.autocomplete("search",s.val())})})}},Dribbble.AutocompleteCache=function(){this.content={}},Dribbble.AutocompleteCache.prototype={lookup:function(e,i,t){if(this.content.hasOwnProperty(e))i(this.content[e]);else{var n=function(t){this.content[e]=t,i(t)}.bind(this);t(e,n)}},termHasNoResults:function(t){return this.content[t]!=undefined&&0==this.content[t].length},isDeadEnd:function(t){if(this.termHasNoResults(t))return!0;for(var e=1;e<t.length+1;e++)if(this.termHasNoResults(t.substring(0,e)))return!0;return!1}},Dribbble.Recaptcha={initialized:!1,initialize:function(){if(!this.initialized){var t=setTimeout(function(){this.loaded()||this.showLoadError()}.bind(this),1e4);this.hideCaptchaNotLoaded=function(){clearInterval(t),$(".captcha-not-loaded").hide()},$.getScript("https://www.google.com/recaptcha/api.js",this.hideCaptchaNotLoaded),Dribbble.captchaSuccess=Dribbble.captchaSuccess||function(t){t.currentTarget.submit()},this.initialized=!0,this.bindEventListeners()}},bindEventListeners:function(){var e=$(".g-recaptcha").parents("form");e.one("submit.recaptcha",function(t){t.preventDefault(),window.captchaCallback=function(){this.hideCaptchaNotLoaded(),e.off("submit.recaptcha").on("submit",Dribbble.captchaSuccess),Dribbble.captchaSuccess(t)}.bind(this),this.loaded()?grecaptcha.execute():this.showLoadError()}.bind(this))},loaded:function(){return"undefined"!=typeof grecaptcha},showLoadError:function(){$(".captcha-not-loaded").show()}},Dribbble.SignupModalForm=function(t){this.$el=t,this.$errorContainer=this.$el.children(".errorExplanation"),this.$errorsList=this.$errorContainer.children("ul"),this.$submitButton=$("#signup-submit")},Dribbble.SignupModalForm.prototype={show:function(){this.$el.show()},submit:function(t){this.resetErrors();var e=this.$el.serializeArray();for(var i in t)t.hasOwnProperty(i)&&e.push({name:i,value:t[i]});var n=$.post(this.$el.attr("action"),e);n.done(this.onSuccess.bind(this)),n.fail(this.onFailure.bind(this))},onSuccess:function(t){window.location=t.redirect_to},onFailure:function(t){var e=JSON.parse(t.responseText).errors.map(function(t){return $("<li />").text(t)});this.$errorsList.append(e),this.$errorContainer.show(),this.$submitButton.prop("disabled",!1)},resetErrors:function(){this.$errorsList.html(""),this.$errorContainer.hide()}},Dribbble.SignupModal={overlay:null,originalPitchContent:null,defaultParams:{signup:!0},variant:null,triggerData:{},signupReasons:{"like-shot":"To like a shot, please create an account.","view-shot":"To view this shot in detail, please create an account.","member-profile":"To view this profile, please create an account.","more-from-user":"To view more shots from this user, please create an account.","bucket-shot":"To save a shot, please create an account.","follow-user":"To follow this user, please create an account.","message-user":"To message this user, please create an account.","list-user":"To add this user to a list, please create an account.","share-overtime":"Keep up with the latest Overtime episodes by joining Dribbble today!","share-courtside":"Keep up with the latest Courtside posts by joining Dribbble today!","create-team":"Before purchasing a team, please create an account.","shot-navigation":"To browse more shots, please create an account.","more-profile-shots":"To view more shots from this user, please create an account.","logged-out-message":"To send this inquiry, please sign in or create an account.","new-pro-logged-out":"To sign up as a pro, please sign in or create an account.","shot-page-feed":"To like shots, follow users, and more, please create an account.","download-attachment":"To download attachments, please sign in or create an account.","global-survey-2019":"To download this report, please sign in or create an account.","calendly-meeting":"To schedule a call with this user, please sign in or create an account."},initialize:function(){this.resetParams(),this.$el=$("#signup-overlay"),this.originalPitchContent=this.getPitch(),this.overlay=new Dribbble.Overlay.Simple({$el:this.$el,onHide:this.onHide.bind(this),remoteContent:{el:this.$el.find(".display"),url:"/signup/modal?return_to="+window.location.href,onComplete:function(t,e,i){Dribbble.Recaptcha.initialize(),Dribbble.captchaSuccess=function(t){t.preventDefault(),this.form.submit(this.additionalParams)}.bind(this),200==i.status?this.bindFormEventListeners():205==i.status?(this.$el.find(".display").html("Signing you in, please wait\u2026"),window.location.reload()):window.location="/signup"}.bind(this)}}),this.bindEventListeners()},open:function(t){this.triggerData=t,this.overlay.show(),this.triggerData={}},bindEventListeners:function(){0!=this.$el.length&&this.bindOnceListeners()},bindFormEventListeners:function(){var e=this.$el.find("#new_user"),i=this.$el.find(".email-signup-toggle");this.form=new Dribbble.SignupModalForm(e),i.on("click",function(t){t.preventDefault(),i.addClass("on")}),e.on("click",function(t){i.addClass("on"),$(t.currentTarget).hasClass("ab-2")||e.off("click")}),this.$el.find(".auth-google").on("click",function(t){Dribbble.Itly.googleAuthenticationStarted({trigger:"google",object_type:"Modal",type:t.currentTarget.authAction||"Sign Up"})}),this.$el.find(".auth-twitter").on("click",function(t){Dribbble.Itly.twitterAuthenticationStarted({trigger:"twitter",object_type:"Modal",type:t.currentTarget.dataset.authAction||"Sign Up"})}),this.$el.find("#already-a-member").on("click",function(){$("#signup-fields").addClass("hide"),$("#signin-fields").removeClass("hide")}),this.$el.find("#not-a-member").on("click",function(){$("#signin-fields").addClass("hide"),$("#signup-fields").removeClass("hide")});var t=this.getTriggerData();if(t.signupPitchContent){var n=$("#"+t.signupPitchContent).html();this.setPitch(n)}var o=t.returnTo||window.location;if(this.setParam("return_to",o),t.params)for(var a in t.params)t.params.hasOwnProperty(a)&&this.setParam(a,t.params[a]);var r=t.reason||this.signupReasons[t.context];r?this.$el.find(".signup-reason").attr("data-reason",t.reason).text(r).addClass("visible"):this.$el.find(".signup-reason").removeAttr("data-reason").empty().removeClass("visible"),this.updateSocialAuthLinks(),this.overlay.trackingData={name:"sign up",context:t.context},Dribbble.Itly.authenticationViewed({object_type:"Modal",trigger:t.context||"unknown",type:window.returningVisitor?"Sign In":"Sign Up"})},bindOnceListeners:function(){this.isBound||(this.isBound=!0,$(document.body).on("click","[data-signup-trigger]",this.overlay.triggerHandler.bind(this.overlay)))},getTriggerData:function(){return $(this.overlay.currentTarget).data()||this.triggerData},onHide:function(){this.restoreContent(),this.bindEventListeners(),this.$el.find(".signup-reason").removeClass("visible")},setParam:function(t,e){this.additionalParams[t]=e},setPitch:function(t){this.$el.find(".pitch-column").html(t)},getPitch:function(){return this.$el.find(".pitch-column").html()},resetParams:function(){this.additionalParams=this.defaultParams},restoreContent:function(){this.setPitch(this.originalPitchContent),this.resetParams()},setContext:function(){var t=document.querySelector(".signup-reason").innerText;if(t!==undefined)for(var e in this.signupReasons)if(this.signupReasons[e]==t)return e},updateSocialAuthLinks:function(){this.$el.find("a.social-signup").each(function(t,e){var i=$(e);i.data().originalUrl||i.data("originalUrl",i.attr("href"));var n=i.data().originalUrl;i.attr("href",Dribbble.Url.addParams(n,this.additionalParams))}.bind(this))}},Dribbble.SignupModal.initialize(),Dribbble.MessageDraft={notice:$("#draft-message"),purgeableAfter:3600,draftMessage:null,save:function(t){var e={data:t,storedAt:(new Date).getTime()};localStorage.setItem("draft_message",JSON.stringify(e))},init:function(){this.draftMessage=JSON.parse(localStorage.getItem("draft_message")),this.purge(),this.toggleNotice(),this.bindAll()},send:function(t){t.preventDefault(),this.draftMessage&&(this.notice.html("Processing..."),$.post("/messages",this.draftMessage.data,this.onSuccess.bind(this)).fail(this.onFailure.bind(this)))},cancel:function(t){this["delete"](),this.notice.hide(),t.preventDefault()},"delete":function(){Cookies.remove("draft_message"),localStorage.removeItem("draft_message"),this.draftMessage=undefined},purge:function(){this.draftMessage&&(((new Date).getTime()-this.draftMessage.storedAt)/1e3>this.purgeableAfter&&this["delete"]())},onSuccess:function(t,e,i){201==i.status?(this.notice.html(t.text),this["delete"]()):this.onFailure()},onFailure:function(){this.notice.html("Oops, something went wrong."),this["delete"]()},toggleNotice:function(){this.draftMessage?this.notice.show():this.notice.hide()},bindAll:function(){$('[data-draft-message="send"]').on("click",this.send.bind(this)),$('[data-draft-message="cancel"]').on("click",this.cancel.bind(this))}},Dribbble.MessageDraft.init(),Dribbble.MessageModalNew=function MessageModalNew(){this.init=function(t){t=t||{},this.form=$("form.message"),this.maxLength=t.maxLength},this.bindEventListeners=function(){this.form=$("form.message"),Dribbble.SingleSubmit.bind(this.form),this.form.on("change",function(t){this.submitToggle(t.target.closest("form"))}.bind(this)),this.form.trigger("change")},this.onSubmit=function(t){t.preventDefault();var e=$(t.target),i=e.serialize();if(!this.validate(t.target))return!1;$.post(e.attr("action"),i,this.onSuccess.bind(this)),User.loggedOut()&&Dribbble.MessageDraft.save(i)},this.onSuccess=function(t,e,i){201==i.status?User.loggedOut()?(this.messageAttemptOverlay.hide(),Dribbble.SignupModal.open({context:"logged-out-message"})):(Dribbble.EventBus.$emit("MessageSent",{userId:document.getElementById("message_recipient_id").value,messageThreadId:t.message_thread_id}),Dribbble.EventBus.$emit("track:userMessaged",{message_body:document.getElementById("message_body").value,message_recipient_id:document.getElementById("message_recipient_id").value,message_thread_id:t.message_thread_id.toString(),message_id:t.message_id.toString()}),$(this.messageAttemptOverlay.remoteContent.el).html("<p class='response-text'>"+t.text+"</p>"),setTimeout(function(){this.messageAttemptOverlay.hide()}.bind(this),2e3)):(this.form.parents(".display").html(t),this.bindEventListeners())},this.overlayLoaded=function(t,e){if("error"==e){var i;try{i=$.parseJSON(t).path}catch(n){console.warn(n)}return i?window.location=i:$(this.messageAttemptOverlay.remoteContent.el).empty().html('<p class="error">Something went wrong. Please refresh the page and try again.</p>'),!1}this.bindEventListeners()},this.characterCounter=function(t,e,i){function n(){i.innerHTML="Characters left: "+(e-t.value.length),t.value.length>e?(i.innerHTML="You have exceeded the character limit",i.classList.add("text-red")):i.classList.remove("text-red"),t.addEventListener("blur",function(){i.style.display="none"}),t.addEventListener("focus",function(){i.style.display="block"})}t&&(t.addEventListener("keyup",function(){n()}),t.addEventListener("change",function(){n()}))},this.validate=function(t){var e,i=$(t),n=this.maxLength,o=i.find('[name="message[body]"]').val();return o?o.length>n&&(e={title:"Message too long",message:"Your message is "+o.length+" characters. Please limit your message to "+n+" characters or less.",id:"message-length"}):e={title:"Must include a message",message:"Please enter a message before sending.",id:"message-required"},!e||(Dribbble.EventBus.$emit("siteNotifications:add",{title:e.title,message:e.message,id:"form-error"}),Dribbble.SingleSubmit.enableForm(i),!1)},this.submitToggle=function(t){this.submitBtn=t.querySelector(".js-submit"),this.textArea=t.querySelector(".js-message-text-area"),this.formElement=t,this.textArea&&this.enableSubmit(this.textArea,this.submitBtn)},this.enableSubmit=function(t,e){0<t.value.length&&e.removeAttribute("disabled"),t.addEventListener("keyup",this.toggleDisabled.bind(this))},this.toggleDisabled=function(){this.textArea&&0<this.textArea.value.length?this.submitBtn.removeAttribute("disabled"):this.submitBtn.setAttribute("disabled","true")}},Dribbble.uuidv4=function(){return"undefined"!=typeof crypto?([1e7]+-1e3+-4e3+-8e3+-1e11).replace(/[018]/g,function(t){return(t^crypto.getRandomValues(new Uint8Array(1))[0]&15>>t/4).toString(16)}):"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){var e=16*Math.random()|0;return("x"==t?e:3&e|8).toString(16)})};